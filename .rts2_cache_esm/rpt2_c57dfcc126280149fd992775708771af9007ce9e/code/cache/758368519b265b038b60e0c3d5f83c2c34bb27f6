{"code":"import * as React from 'react';\r\nimport { jsx } from 'theme-ui';\r\nimport { tags } from './tags';\r\nconst UIContext = React.createContext({});\r\nconst isEmptyObject = obj => Object.entries(obj).length === 0 && obj.constructor === Object;\r\nconst getVariants = vx => use => {\r\n    if (!vx)\r\n        return ``;\r\n    let sx = {};\r\n    // for (const key in vx) {\r\n    //   const variant = vx[key];\r\n    //   const propsValue = props[key];\r\n    //   if (is.array(variant)) {\r\n    //     const arrayIndexValue = is.exists(propsValue)\r\n    //       ? propsValue\r\n    //       : variant.findIndex(f => f.initial);\r\n    //     if (is.exists(arrayIndexValue)) {\r\n    //       let sx = get(variant, arrayIndexValue, undefined);\r\n    //       let styles: any = typeof sx === 'function' ? sx(theme) : sx;\r\n    //       rules = deepmerge(rules, styles);\r\n    //     }\r\n    //   } else {\r\n    //     if (is.truthy(propsValue) || key === 'initial') {\r\n    //       let sx = vx[key];\r\n    //       let styles: any = typeof sx === 'function' ? sx(theme) : sx;\r\n    //       rules = deepmerge(rules, styles);\r\n    //     }\r\n    //   }\r\n    // }\r\n    return sx;\r\n};\r\n/**\r\n * Create UI Component Higher order function\r\n */\r\nfunction createUIComponent(component) {\r\n    const UiComponent = (props, ref) => {\r\n        // const { vx = {}, orphan = false, root = false } = props;\r\n        // const hasVariantsX = isEmptyObject(vx);\r\n        const { context, parentContext } = useUIContext(props);\r\n        // populate jsx props\r\n        const jsxProps = {\r\n            // don't use context props if orphan or root\r\n            // ...(!orphan && !root && hasVariantsX ? parentContext : null),\r\n            ...props,\r\n            ref,\r\n        };\r\n        return (React.createElement(UIContext.Provider, { value: context }, jsx(component, jsxProps)));\r\n    };\r\n    return React.forwardRef(UiComponent);\r\n}\r\nconst useUIContext = props => {\r\n    const { vx = {}, use = {}, root = false } = props;\r\n    // get parent context\r\n    const parentContext = React.useContext(UIContext);\r\n    // don't use parent context if root\r\n    const context = root ? {} : { ...parentContext };\r\n    // using only its own vx keys,\r\n    // look for applied props and\r\n    Object.keys(vx).forEach(k => {\r\n        if (use.hasOwnProperty(k)) {\r\n            context[k] = props[k];\r\n        }\r\n    });\r\n    return { context, parentContext };\r\n};\r\nconst UIFragment = React.forwardRef((props, ref) => {\r\n    const { context } = useUIContext(props);\r\n    return (React.createElement(UIContext.Provider, { value: context },\r\n        React.createElement(React.Fragment, null, props.children)));\r\n});\r\nexport const ui = tags.reduce((res, tag) => {\r\n    res[tag] = createUIComponent(tag);\r\n    return res;\r\n}, {\r\n    as: ({ tag, ...rest }) => {\r\n        const Tag = createUIComponent(tag);\r\n        return React.createElement(Tag, Object.assign({}, rest));\r\n    },\r\n    custom: createUIComponent,\r\n    fragment: UIFragment,\r\n});\r\n//# sourceMappingURL=ui.js.map","references":["/Users/tol-is/Workspace/oss/dot-theme-ui/node_modules/react/index.js","/Users/tol-is/Workspace/oss/dot-theme-ui/node_modules/theme-ui/dist/index.js","/Users/tol-is/Workspace/oss/dot-theme-ui/src/tags.ts"],"map":"{\"version\":3,\"file\":\"ui.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/ui.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAE/B,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAE9B,MAAM,SAAS,GAAG,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;AAE1C,MAAM,aAAa,GAAG,GAAG,CAAC,EAAE,CAC1B,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,IAAI,GAAG,CAAC,WAAW,KAAK,MAAM,CAAC;AAEjE,MAAM,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;IAC9B,IAAI,CAAC,EAAE;QAAE,OAAO,EAAE,CAAC;IACnB,IAAI,EAAE,GAAG,EAAE,CAAC;IAEZ,0BAA0B;IAC1B,6BAA6B;IAC7B,mCAAmC;IACnC,6BAA6B;IAC7B,oDAAoD;IACpD,qBAAqB;IACrB,6CAA6C;IAC7C,wCAAwC;IACxC,2DAA2D;IAC3D,qEAAqE;IACrE,0CAA0C;IAC1C,QAAQ;IACR,aAAa;IACb,wDAAwD;IACxD,0BAA0B;IAC1B,qEAAqE;IACrE,0CAA0C;IAC1C,QAAQ;IACR,MAAM;IACN,IAAI;IACJ,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC;AAEF;;GAEG;AACH,SAAS,iBAAiB,CAAC,SAAS;IAClC,MAAM,WAAW,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE;QACjC,2DAA2D;QAC3D,0CAA0C;QAE1C,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;QAEvD,qBAAqB;QACrB,MAAM,QAAQ,GAAG;YACf,4CAA4C;YAC5C,gEAAgE;YAChE,GAAG,KAAK;YACR,GAAG;SACJ,CAAC;QAEF,OAAO,CACL,oBAAC,SAAS,CAAC,QAAQ,IAAC,KAAK,EAAE,OAAO,IAC/B,GAAG,CAAC,SAAS,EAAE,QAAQ,CAAC,CACN,CACtB,CAAC;IACJ,CAAC,CAAC;IAEF,OAAO,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;AACvC,CAAC;AAED,MAAM,YAAY,GAAG,KAAK,CAAC,EAAE;IAC3B,MAAM,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,KAAK,EAAE,GAAG,KAAK,CAAC;IAElD,qBAAqB;IACrB,MAAM,aAAa,GAAG,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;IAElD,mCAAmC;IACnC,MAAM,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,aAAa,EAAE,CAAC;IAEjD,8BAA8B;IAC9B,6BAA6B;IAC7B,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;QAC1B,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE;YACzB,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;SACvB;IACH,CAAC,CAAC,CAAC;IACH,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC;AACpC,CAAC,CAAC;AAEF,MAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE;IACjD,MAAM,EAAE,OAAO,EAAE,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;IAExC,OAAO,CACL,oBAAC,SAAS,CAAC,QAAQ,IAAC,KAAK,EAAE,OAAO;QAChC,oBAAC,KAAK,CAAC,QAAQ,QAAE,KAAK,CAAC,QAAQ,CAAkB,CAC9B,CACtB,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAC3B,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IACX,GAAG,CAAC,GAAG,CAAC,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;IAClC,OAAO,GAAG,CAAC;AACb,CAAC,EACD;IACE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,EAAE;QACvB,MAAM,GAAG,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;QACnC,OAAO,oBAAC,GAAG,oBAAK,IAAI,EAAI,CAAC;IAC3B,CAAC;IACD,MAAM,EAAE,iBAAiB;IACzB,QAAQ,EAAE,UAAU;CACrB,CACF,CAAC\"}","dts":{"name":"/Users/tol-is/Workspace/oss/dot-theme-ui/src/ui.d.ts","writeByteOrderMark":false,"text":"export declare const ui: unknown;\r\n"}}
